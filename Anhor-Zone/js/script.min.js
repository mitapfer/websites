document.addEventListener("DOMContentLoaded",()=>{function e(e,t,o,s,i,r){const d=document.createElement("div");d.classList.add("rooms__item"),d.innerHTML=`\n            <img class="rooms__item-img" src="img/slider/${e}" alt="">\n            <div class="rooms__item-price">\n                <img src="img/rooms/rooms-price.png" alt="">\n                <div class="rooms__item-price_value">\n                    ${t}\n                    <span>сум</span>\n                </div>\n            </div>\n            <div class="rooms__item-content ${i}">\n                <div class="rooms__inform">\n                    <div class="rooms__item-title">\n                    ${o}\n                    </div>\n                    <div class="rooms__item-descr">\n                        ${s} <b>Цена: ${t}</b>\n                    </div>          \n                </div>\n\n                <a href="" class="btn btn--order">Забронировать</a>\n            </div>\n        `,r.append(d)}function t(){dots=document.querySelectorAll(".rooms__dots-item"),dots.forEach((e,t)=>{e.setAttribute("data-slide-to",t+1),e.addEventListener("click",e=>{const t=e.target.getAttribute("data-slide-to");m=t,a=function(e){return+e.replace(/\D/g,"")}(l)*(t-1),n.style.transform=`translateX(-${a}px)`,dots.forEach(e=>e.style.backgroundColor="white"),dots[m-1].style.backgroundColor="green",dot=document.querySelector(".rooms__dots-item"),dot.classList.add("active"),d.forEach((e,o)=>{e.querySelectorAll(".rooms__item-content").forEach(e=>{e.classList.remove("active")}),t==o+1&&e.querySelectorAll(".rooms__item-content").forEach(e=>{e.classList.add("active")})})})})}function o(){if(window.getComputedStyle(document.querySelector(".rooms__slide")).width.match(/\d/g).join("")<655){document.querySelectorAll(".rooms__slide").forEach(e=>{e.remove()}),n.style.width="600%";for(key in r){r[key].forEach(({img:t,price:o,title:i,description:r,classActive:d})=>{const c=document.createElement("div");c.classList.add("rooms__slide"),document.querySelector(".rooms__slider-wrapper").append(c),e(t,o,i,r,d,c),6!=parentDots.childElementCount&&s(parentDots)});document.querySelector(".rooms__dots-item").classList.add("active"),t()}}}function s(e){const t=document.createElement("div");t.classList.add("rooms__dots-item"),e.append(t)}function i(){v.classList.remove("modal__show"),g.classList.remove("no-scroll"),setTimeout(()=>{p.classList.remove("modal__show")},150)}const r={slide_1:[{img:"slider-1.jpg",price:"1.500.000",title:"Двухместный номер",description:"Двухместные номера в Anhor Relax Zone включают в себя собственный санузел, завтрак и бассейн.",classActive:"active"},{img:"slider-2.jpg",price:"2.730.000",title:"Четырёхместный коттедж",description:"Внутри коттеджа вам доступны все современные условия: на первом этаже гостинная, TV, современная кухня, роскошный санузел.",classActive:"active"}],slide_2:[{img:"slider-1.jpg",price:"4.130.000",title:"Шестиместный коттедж",description:"Внутри коттеджа вам доступны все современные условия: на первом этаже гостиная с камином, TV, современная кухня, санузел. На втором этаже расположены 3 спальных комнаты + санузел."},{img:"slider-2.jpg",price:"3.000.000",title:"Восьмиместный номер",description:"Восьмиместный номер в Anhor Relax Zone включает в себя собственный санузел, завтрак и бассейн."}],slide_3:[{img:"slider-2.jpg",price:"8.260.000",title:"Двенадцатиместный коттедж",description:"Внутри коттеджа вам доступны все современные условия: на первом этаже гостиная с камином, TV, современная кухня, две комфортабельные спальни, санузел. На втором этаже расположены 4 спальных комнаты + санузел."},{img:"slider-1.jpg",price:"8.260.000",title:"Тренадцатиместный коттедж",description:"Внутри коттеджа вам доступны все современные условия: на первом этаже гостиная в стиле Вестерн, TV, современная кухня и два санузла. На втором этаже имеется большая спальня в стиле казармы."}]};parentDots=document.querySelector(".rooms__dots");for(key in r){const t=document.createElement("div");t.classList.add("rooms__slide"),document.querySelector(".rooms__slider-wrapper").append(t),r[key].forEach(({img:o,price:s,title:i,description:r,classActive:d})=>{e(o,s,i,r,d,t)}),s(parentDots);document.querySelector(".rooms__dots-item").classList.add("active")}const d=document.querySelectorAll(".rooms__slide"),c=document.querySelector(".rooms__slider"),l=window.getComputedStyle(c).width,n=document.querySelector(".rooms__slider-wrapper");let a=0,m=1;n.style.width=100*d.length+"%",n.style.display="flex",n.style.transition=".5s all",c.style.overflow="hidden",d.forEach(e=>{e.style.width=l}),t(),o(),window.addEventListener("resize",()=>{o()});const _=document.querySelectorAll(".btn--order"),u=document.querySelector(".modal__close"),p=document.querySelector(".modal"),v=document.querySelector(".modal__dialog"),g=document.querySelector("body");_.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),p.classList.add("modal__show"),g.classList.add("no-scroll"),setTimeout(()=>{v.classList.add("modal__show")},150)})}),u.addEventListener("click",()=>{i()}),p.addEventListener("click",e=>{e.target.classList.contains("modal")&&i()}),$(".gallery__content").magnificPopup({delegate:"a",type:"image",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]}})});